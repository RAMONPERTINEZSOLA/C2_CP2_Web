<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>C2_CP2_11_I</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 40px;
            max-width: 800px;
        }
        h1 {
            font-size: 24px;
            margin-bottom: 10px;
        }
        a.button {
            display: inline-block;
            padding: 10px 20px;
            margin-bottom: 30px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 5px;
        }
        .images {
            display: flex;
            gap: 40px;
            flex-wrap: wrap;
        }
        .images img {
            max-width: 350px;
            border: 1px solid #ddd;
            padding: 5px;
            background: #f9f9f9;
        }
        .description {
            margin-top: 30px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <a href="../index.html" class="button">‚Üê Back to index</a>
    <h1>Drawer: C2_CP2_11_I</h1>

    <div class="images">
        <div>
            <p><strong>Drawer Photo:</strong></p>
            <img src="../images/C2_CP2_11_I.jpg" alt="Drawer image C2_CP2_11_I">
        </div>
        <div>
            <p><strong>Cabinet Highlight:</strong></p>
            <img src="../images/C2_CP2_cabinet_C2_CP2_11_I.png" alt="Cabinet highlight">
        </div>
    </div>

    <div class="description">
        <p><strong>Description:</strong> Add here the contents or purpose of this drawer.</p>
    </div>

    <h2 id="stock-display" style="font-size: 40px; margin-top: 40px; text-align: center;">Loading stock...</h2>

    <script>
        const drawerCode = "C2_CP2_11_I";

        fetch("https://ramonpertinez.github.io/C2_CP2_Web/stock.csv")
            .then(res => {
                if (!res.ok) throw new Error("Failed to load CSV file.");
                return res.text();
            })
            .then(csv => {
                const rows = csv.trim().split("\n").slice(1);
                const data = rows.map(row => row.split(","));
                const match = data.find(row => row[0] === drawerCode);

                const container = document.getElementById("stock-display");

                if (match) {
                    const [drawer, productCode, productName, ...images] = match;

                    let html = `
                        <p><strong>DRAWER:</strong> ${drawer}</p>
                        <p><strong>Product Name:</strong> ${productName}</p>
                        <p><strong>Product Code:</strong> ${productCode}</p>
                        <div class="images">
                    `;

                    images.forEach(url => {
                        if (url.trim()) {
                            html += `
                                <div>
                                    <img src="${url.trim()}" alt="${productName}">
                                </div>
                            `;
                        }
                    });

                    html += "</div>";
                    container.innerHTML = html;
                } else {
                    container.innerText = "üì¶ STOCK: not found.";
                }
            })
            .catch(err => {
                document.getElementById("stock-display").innerText = "‚ùå Error loading data: " + err.message;
            });
    </script>
</body>
</html>
